{% extends "core/base.jinja" %}

{% block title %}
{% trans user_name=user.get_display_name() %}{{ user_name }}'s tools{% endtrans %}
{% endblock %}

{% block content %}
<h3>{% trans %}User Tools{% endtrans %}</h3>

<h4>{% trans %}Sith management{% endtrans %}</h4>
<ul>
    {% if user.is_in_group(settings.SITH_GROUPS['root']['name']) %}
    <li><a href="{{ url('core:group_list') }}">{% trans %}Groups{% endtrans %}</a></li>
    {% endif %}
    {% if user.is_in_group(settings.SITH_GROUPS['counter-admin']['name']) %}
    <li><a href="{{ url('counter:admin_list') }}">{% trans %}Counters management{% endtrans %}</a></li>
    {% endif %}
    {% if user.is_in_group(settings.SITH_GROUPS['accounting-admin']['name']) %}
    <li><a href="{{ url('accounting:bank_list') }}">{% trans %}Accounting{% endtrans %}</a></li>
    {% endif %}
    {% if user.is_in_group(settings.SITH_MAIN_BOARD_GROUP) or user.is_in_group(settings.SITH_GROUPS['root']['name']) %}
    <li><a href="{{ url('subscription:subscription') }}">{% trans %}Subscriptions{% endtrans %}</a></li>
    {% endif %}
</ul>

<h4>{% trans %}Counters{% endtrans %}</h4>
<ul>
    {% for b in settings.SITH_COUNTER_BARS %}
    {% if user.is_in_group(b[1]+" admin") %}
    <li><a href="{{ url('counter:details', counter_id=b[0]) }}">{{ b[1] }}</a> -
        <a href="{{ url('counter:admin', counter_id=b[0]) }}">{% trans %}Edit{% endtrans %}</a></li>
    {% endif %}
    {% endfor %}
</ul>

<h4>{% trans %}Clubs{% endtrans %}</h4>
<ul>
    {% for m in user.membership.filter(end_date=None).all() %}
    <li><a href="{{ url('club:tools', club_id=m.club.id) }}">{{ m.club }}</a></li>
    {% endfor %}
</ul>

{% endblock %}



